/*The string "PAYPALISHIRING" is written in a zigzag pattern on a given number of rows like this: (you may want to display this pattern in a fixed font for better legibility)

P   A   H   N
A P L S I I G
Y   I   R
And then read line by line: "PAHNAPLSIIGYIR"
Write the code that will take a string and make this conversion given a number of rows:

string convert(string text, int nRows);
convert("PAYPALISHIRING", 3) should return "PAHNAPLSIIGYIR".
*/
//simple
class Solution {
public:
    string convert(string s, int numRows) {
	string result;
        int length = s.length();
        int m_row = numRows>2?numRows-2:0;
	int circle_length = numRows+m_row;
	for(int i = 0;i<numRows; ++i)
	{
		for(int j =0; j <length; ++j)
		{
			if(j%circle_length ==i || isZig(j,i,numRows))
			{
				result+=s[j];
			}
		}
	}
	return result;
    }
    bool isZig(const int index, const int row, const int total_row)
    {
	bool result = false;
	int m_row = total_row>2?total_row-2:0;
	int circle_length = total_row+m_row;
	if(row > 0 && row < total_row-1)
	{
		int zig_number = index%circle_length;
		if (zig_number >= total_row)
		{
			zig_number = zig_number - total_row +1;
			int zig_row= total_row-2-zig_number+1;
			result = zig_row == row;
		}
	}
	return result;
    }
};